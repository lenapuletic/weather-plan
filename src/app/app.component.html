<header class="header">
  <a href="/" class="title-link">
    <h1 class="title">WeatherPlan</h1>
  </a>
  <div class="header__actions">
    <app-city-search (search)="onCitySearch($event)"></app-city-search>
    <div class="saved-wrapper">
      <button mat-icon-button class="save-btn" (click)="toggleSavedLocations($event)">
        <mat-icon>bookmark</mat-icon>
      </button>
      @if (showSavedLocations) {
        <div #sidebar class="dropdown-card">
          <h3>Saved Locations</h3>
          <app-saved-locations></app-saved-locations>
        </div>
      }
    </div>
  </div>
</header>
@if(!currentWeather() && !isLoading() && !error()) {
  <div class="no-location">
      <p>Search for a city to see the weather or chose one of previously saved locations...</p>
  </div>
}
@else if (isLoading()) {
  <div class="card loading">
    <p>Loading weather data...</p>
</div>
}
@else if (error()) {
  <div class="card error">
    <p>{{ error() }}</p>
</div>
}
@else {
  <div class="container">
    <main class="main-content">
      <div class="weather-info">
        <app-weather-dashboard></app-weather-dashboard>
        <app-activity-suggestions></app-activity-suggestions>
      </div>
    </main>
    <footer class="forecast-section">
      <app-forecast></app-forecast>
    </footer>
  </div>
}

<div class="mobile-overlay">
  <div class="message-box">
    <mat-icon class="icon">desktop_windows</mat-icon>
    <h2>Desktop Experience Only</h2>
    <p>
      WeatherPlan is currently optimized for larger screens. 
      <br>
      Please visit us on a desktop or laptop for the best experience!
    </p>
  </div>
</div>